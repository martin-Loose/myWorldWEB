<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../../../resources/templates/users/usersTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="content" class="center_content">
        <html xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://xmlns.jcp.org/jsf/html"  
              xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
              xmlns:f="http://xmlns.jcp.org/jsf/core">

            <h:head>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <f:metadata>
                    <f:viewParam name="chatName" value="#{chatName}"/>
                    <f:viewParam name="chatID" value="#{chatID}"/>
                </f:metadata>
            </h:head>
            <h:body onload="#{privateChatMessagesService.initView()}">
                           <ul class="topnav">
                 <li><a  href="/myWorld/secured/user/chat/chatRoomList.xhtml">ChatView</a></li>
                 <li><a  href="/myWorld/secured/user/chat/createChatRoom.xhtml">create</a></li>
   
   </ul>
                <h:form rendered="#{privateChatMessagesService.selectedRoom.isPrivate}">
                    <h:panelGroup>
                        <h:outputLabel value="Details from private: #{chatName}:"/><br/>                  
                        <h:inputTextarea readonly="true" 
                                         style="width: 300px;height: 100px;overflow: auto;"
                                         value="#{privateChatMessagesService.selectedRoom.theme}"/><br/>
                        <h:outputLabel value="Public: #{privateChatMessagesService.selectedRoom.isPublic}"/><br/>
                        <h:outputLabel value="Private: #{privateChatMessagesService.selectedRoom.isPrivate}"/><br/>                  
                        <h:inputSecret style="width: 200px;" id="passwort1"  rendered="#{!privateChatMessagesService.passwordMatch}"
                                       value="#{privateChatMessagesService.password}" required="true"
                                       requiredMessage="Bitte Passwort eingeben" redisplay="true" 
                                       a:placeholder="Enter Password for Chatroom">
                        </h:inputSecret><br/>
                        <h:commandButton id="joinPrivateRoom" value="checkPassword" rendered="#{!privateChatMessagesService.passwordMatch}"
                                         action="#{privateChatMessagesService.checkPassword}">
                            <f:param name="chatName" value="#{privateChatMessagesService.chatName}"/>
                            <f:param name="chatID"  value="#{privateChatMessagesService.chatID}"/>
                        </h:commandButton><br/>
                        <h:link styleClass="acceptbtn" type="button/submit" outcome="blankPrivateChatRoom.xhtml" value="view privateRoom"
                                includeViewParams="true" style="color: #000000;" rendered="#{privateChatMessagesService.passwordMatch}">  
                            <f:param name="chatName" value="#{privateChatMessagesService.chatName}"/>
                            <f:param name="chatID"  value="#{privateChatMessagesService.chatID}"/>
                        </h:link>
                    </h:panelGroup>
                </h:form>
            </h:body>
        </html>
    </ui:define>
</ui:composition>

