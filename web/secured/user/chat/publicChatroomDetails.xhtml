<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../../../resources/templates/users/usersTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="content" class="center_content">
        <html xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://xmlns.jcp.org/jsf/html"  
              xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
              xmlns:f="http://xmlns.jcp.org/jsf/core">

            <h:head>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <f:metadata>
                    <f:viewParam name="chatName" value="#{chatName}"/>
                    <f:viewParam name="chatID" value="#{chatID}"/>
                </f:metadata>
            </h:head>
            <h:body onload="#{newChatroomService.senden()}">
                          <ul class="topnav">
                 <li><a  href="/myWorld/secured/user/chat/chatRoomList.xhtml">ChatView</a></li>
                 <li><a  href="/myWorld/secured/user/chat/createChatRoom.xhtml">create</a></li>
  
   </ul>
                <h:form rendered="#{newChatroomService.selectedChatroom.isPrivate}">
                    <h:panelGroup>
                        <h:outputLabel value="Details from: #{chatName}:"/><br/>                  
                        <h:inputTextarea readonly="true" 
                                         style="width: 300px;height: 100px;overflow: auto;"
                                         value="#{newChatroomService.selectedChatroom.theme}"/><br/>
                        <h:outputLabel value="Public: #{newChatroomService.selectedChatroom.isPublic}"/><br/>
                        <h:outputLabel value="Private: #{newChatroomService.selectedChatroom.isPrivate}"/><br/>                  
                        <h:inputSecret style="width: 200px;" id="passwort1"  
                                       value="#{chatMessageService.passwordUnCrypted}" required="true"
                                       requiredMessage="Bitte Passwort eingeben" redisplay="true" 
                                       a:placeholder="Enter Password for Chatroom"
                                       validatorMessage="Passwort mindestens 1 Klein,1 Grossbuchstabe,1 Zahl,min. 6 Zeichen, max 40 Zeichen">
                            <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,40})" />       
                        </h:inputSecret><br/>
                        <h:commandButton id="joinPrivateRoom" value="enter private Room" 
                                         action="#{chatMessageService.joinTest}">
                        <f:param name="chatName" value="#{newChatroomService.chatName}"/>
                        <f:param name="chatID"  value="#{newChatroomService.chatID}"/>
                    </h:commandButton>
                    </h:panelGroup>
                </h:form>
                <h:form rendered="#{newChatroomService.selectedChatroom.isPublic}">
                     <h:panelGroup>
                        <h:outputLabel value="Details from: #{chatName}:"/><br/>                  
                        <h:inputTextarea readonly="true" 
                                         style="width: 300px;height: 100px;overflow: auto;"
                                         value="#{newChatroomService.selectedChatroom.theme}"/><br/>
                        <h:outputLabel value="Public: #{newChatroomService.selectedChatroom.isPublic}"/><br/>
                        <h:outputLabel value="Private: #{newChatroomService.selectedChatroom.isPrivate}"/><br/>                  
                        
                <h:commandButton id="joinPublicRoom" value="enter public Room" 
                                     action="#{publicChatMessageService.join}">
                        <f:param name="chatName" value="#{newChatroomService.chatName}"/>
                        <f:param name="chatID"  value="#{newChatroomService.chatID}"/>
                    </h:commandButton>
                         </h:panelGroup>
                </h:form>
                    
                   
                
               </h:body>
        </html>
    </ui:define>
</ui:composition>

