<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../../../resources/templates/users/usersTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="content" class="center_content">
        <html xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://xmlns.jcp.org/jsf/html"  
              xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
              xmlns:f="http://xmlns.jcp.org/jsf/core">

            <h:head>
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <f:metadata>
                    <f:viewParam name="chatName" value="#{chatName}"/>
                    <f:viewParam name="chatID" value="#{chatID}"/>
                    <f:viewParam name="myID" value="#{myID}"/>
                </f:metadata>
            </h:head>
            <h:body onload="#{updateChatroomSettingsController.test()}">
                            <ul class="topnav">
                 <li><a  href="/myWorld/secured/user/chat/chatRoomList.xhtml">ChatView</a></li>
                 <li><a  href="/myWorld/secured/user/chat/createChatRoom.xhtml">create</a></li>
   
   </ul>
                <h:form>
                    <h:panelGroup>
                        <h:outputLabel value="Settings from: #{updateChatroomSettingsController.chatName}:"/><br/>                  
                       
                        <h:commandButton value="setPublic" action="#{updateChatroomSettingsController.updatePublic}">
                            <f:param name="chatName" value="#{chatName}"/>
                            <f:param name="chatID" value="#{chatID}"/>
                            <f:param name="myID" value="#{myID}"/>
                        </h:commandButton>
                        <h:commandButton value="setPrivate" action="#{updateChatroomSettingsController.setIsPrivate(true)}">
                            <f:param name="chatName" value="#{chatName}"/>
                            <f:param name="chatID" value="#{chatID}"/>
                            <f:param name="myID" value="#{myID}"/>
                        </h:commandButton>
                    </h:panelGroup><br/>
                    <h:panelGroup rendered="#{updateChatroomSettingsController.isPrivate}">
                        <h:inputSecret style="width: 200px;" id="passwort1" value="#{updateChatroomSettingsController.passwordRoh}" required="true"
                                       requiredMessage="Bitte Passwort eingeben" redisplay="true" 
                                       a:placeholder="Enter Password for Chatroom"
                                       validatorMessage="Passwort mindestens 1 Klein,1 Grossbuchstabe,1 Zahl,min. 6 Zeichen, max 40 Zeichen">
                            <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,40})" />       
                        </h:inputSecret><br/>
                        <h:message for="passwort1" style="color: red;" rendered="true" showDetail="true" /><br/>
                        <h:commandButton value="set Password" action="#{updateChatroomSettingsController.setRoomPassword}">
                            <f:param name="chatName" value="#{chatName}"/>
                            <f:param name="chatID" value="#{chatID}"/>
                            <f:param name="myID" value="#{myID}"/>
                        </h:commandButton><br/>
                        <h:commandButton value="update" action="#{updateChatroomSettingsController.updatePrivate}">
                            <f:param name="chatName" value="#{chatName}"/>
                            <f:param name="chatID" value="#{chatID}"/>
                            <f:param name="myID" value="#{myID}"/>
                        </h:commandButton>
                    </h:panelGroup>
                </h:form>
            </h:body>
        </html>
    </ui:define>
</ui:composition>

